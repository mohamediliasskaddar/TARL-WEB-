
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />

<div class="parent-form-container">
    <h2>Create Parent Account</h2>
  
    <div class="form-card">
      <h3>
        <span class="material-symbols-outlined">supervisor_account</span>
         Parent Details</h3>
      <div class="form-group">
        <label>First Name:</label>  
        <input type="text" [(ngModel)]="parentFirstName" (ngModelChange)="generateUsername()" placeholder="Enter Parent's First Name" required />
      </div>
      <div class="form-group">
        <label>Last Name:</label>
        <input type="text" [(ngModel)]="parentLastName" (ngModelChange)="generateUsername()" placeholder="Enter Parent's Last Name" required />
      </div>
      <div class="form-group">
        <label>Email:</label>
          <input type="email" [(ngModel)]="parentEmail" placeholder="Enter Parent's Email" required />
      </div>
      <div class="form-group">
        <label>Username (Auto-Generated):</label>
        <input type="text" [(ngModel)]="parentUsername" readonly />
      </div>
      <div class="form-group">
        <label>Generated Password:</label>
        <input type="text" [(ngModel)]="parentPassword" readonly />
        <button type="button" (click)="generatePassword()" title="Regenerate password">
          <span class="material-symbols-outlined">cycle
          </span>
        </button>
      </div>
    </div>
  
    <div class="form-card">
      <h3><span class="material-symbols-outlined">escalator_warning</span> Link Children</h3>
      <div class="form-group">
        <label>Select Child:</label>
        <select [(ngModel)]="selectedChildId">
          <option *ngFor="let student of students" [value]="student.uid">
            {{ student.firstName }} {{ student.lastName }}
          </option>
        </select>
        <button type="button" (click)="linkChild()" class="link-btn">
          <span class="material-symbols-outlined">supervised_user_circle</span> Link Child</button>
      </div>
  
      <div *ngIf="linkedChildren.length > 0" class="linked-children">
        <h4>ðŸ“‹ Linked Children:</h4>
        <ul>
          <li *ngFor="let child of linkedChildren">
            {{ getChildName(child) }}
            <button type="button" class="remove-btn" (click)="removeChild(child)">X</button>
        </li>
        </ul>
      </div>
    </div>
  
    <div class="form-actions">
      <button class="submit-btn" (click)="createParentAccount()"> 
        <span class="material-symbols-outlined">how_to_reg</span> 
        Create Parent Account
      </button>
      <button class="reset-btn" (click)="resetForm()"><span class="material-symbols-outlined">redo</span> Reset Form</button>
    </div>
  </div>
  